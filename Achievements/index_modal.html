<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ¢ãƒ¼ãƒ€ãƒ«å‹å®Ÿç¸¾ãƒ“ãƒ¥ãƒ¼</title>
    <link rel="stylesheet" href="../styles.css">
    <style>
        /* ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤ºç”¨ã®è¿½åŠ ã‚¹ã‚¿ã‚¤ãƒ« */
        .ai-modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(15, 23, 42, 0.6);
            backdrop-filter: blur(8px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 100;
        }

        .ai-modal-overlay.is-active {
            display: flex;
        }

        .ai-modal-window {
            width: min(520px, 90vw);
            max-height: 80vh;
        }

        .floating-ai-button {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 4rem;
            height: 4rem;
            border-radius: 50%;
            border: none;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            color: #fff;
            font-weight: 900;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: var(--shadow-lg);
            z-index: 50;
        }
    </style>
</head>

<body>
    <div class="shell">
        <header class="masthead masthead--compact">
            <div>
                <h1>ãƒ¢ãƒ¼ãƒ€ãƒ«å‹å®Ÿç¸¾ãƒ“ãƒ¥ãƒ¼</h1>
                <p>ã‚·ãƒ³ãƒ—ãƒ«ãªè¡¨ä¸­å¿ƒãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€‚AIã¯ãƒ¢ãƒ¼ãƒ€ãƒ«ã§è©³ç´°ã‚’ææ¡ˆã—ã¾ã™ã€‚</p>
            </div>
            <div class="dashboard-filters">
                <div class="filter-group">
                    <input type="date" class="filter-input" value="2024-01-01" data-jshook="date-from">
                </div>
                <div class="filter-group">
                    <input type="date" class="filter-input" value="2025-12-31" data-jshook="date-to">
                </div>
                <div class="filter-group">
                    <select class="filter-select" data-jshook="category-select">
                        <option value="">ã™ã¹ã¦</option>
                        <option value="disposal">å‡¦ç†ãƒ»å»ƒæ£„</option>
                        <option value="equipment">æ©Ÿå™¨ãƒ»åˆ¶å¾¡</option>
                        <option value="extraction">æŠ½å‡ºãƒ»å–å‡º</option>
                        <option value="maintenance">ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹</option>
                        <option value="measurement">è¨ˆæ¸¬ãƒ»æ¸¬å®š</option>
                        <option value="plant">ãƒ—ãƒ©ãƒ³ãƒˆãƒ»è¨­å‚™</option>
                        <option value="storage">è²¯è”µãƒ»ä¿ç®¡</option>
                        <option value="supply">ä¾›çµ¦ãƒ»æŠ•å…¥</option>
                        <option value="transport">æ¬é€ãƒ»é‹æ¬</option>
                    </select>
                </div>
                <button type="button" class="filter-button" data-jshook="search-button">é©ç”¨</button>
            </div>
        </header>

        <div class="data-table-container">
            <div class="data-table-header">
                <h2>å®Ÿç¸¾è©³ç´°ãƒ†ãƒ¼ãƒ–ãƒ«</h2>
                <button type="button" class="control-button" data-jshook="export-button">ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</button>
            </div>
            <div class="data-table-wrapper">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>æ—¥ä»˜</th>
                            <th>ã‚«ãƒ†ã‚´ãƒª</th>
                            <th>é …ç›®å</th>
                            <th>å®Ÿç¸¾å€¤</th>
                            <th>å˜ä½</th>
                            <th>çŠ¶æ…‹</th>
                            <th>å‚™è€ƒ</th>
                        </tr>
                    </thead>
                    <tbody data-jshook="table-body"></tbody>
                </table>
            </div>
        </div>
    </div>

    <button type="button" class="floating-ai-button" id="modal-open">AI</button>

    <div class="ai-modal-overlay" id="modal-window">
        <div class="ai-modal-window">
            <div class="ai-assistant-container">
                <div class="ai-assistant-header">
                    <h3>AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ</h3>
                    <button type="button" id="modal-close"
                        style="background:none; border:none; font-size:1.5rem; cursor:pointer;">Ã—</button>
                </div>
                <div class="ai-capabilities">
                    <h4>å›ç­”å¯èƒ½ãªæƒ…å ±</h4>
                    <div class="capability-grid">
                        <div class="capability-item">
                            <div class="capability-icon">ğŸ“ˆ</div>
                            <div class="capability-text"><strong>ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ</strong><span>æ™‚ç³»åˆ—å¤‰åŒ–ã€ç•°å¸¸æ¤œçŸ¥</span></div>
                        </div>
                        <div class="capability-item">
                            <div class="capability-icon">âš ï¸</div>
                            <div class="capability-text"><strong>ã‚¢ãƒ©ãƒ¼ãƒˆæƒ…å ±</strong><span>ç•°å¸¸çŠ¶æ…‹ã€æ³¨æ„é …ç›®</span></div>
                        </div>
                    </div>
                </div>
                <div class="ai-chat-section" style="padding:0; border:0; background:transparent;">
                    <div class="ai-messages" data-jshook="chat-display"></div>
                    <div class="ai-input-container">
                        <div class="ai-input-wrapper">
                            <input type="text" class="ai-input" placeholder="AIã«ç¢ºèªã—ãŸã„ã“ã¨ã‚’å…¥åŠ›..." data-jshook="chat-input">
                            <button type="button" class="ai-send-button" data-jshook="chat-send">é€ä¿¡</button>
                        </div>
                    </div>
                </div>
                <div data-jshook="suggestion-buttons" style="display: none;"></div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    <script src="script.js"></script>
    <script>
        // ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤ºã®åˆ¶å¾¡ï¼ˆscript.jsã¨å…±å­˜ï¼‰
        document.addEventListener('DOMContentLoaded', () => {
            const modalWindow = document.getElementById('modal-window');
            const openButton = document.getElementById('modal-open');
            const closeButton = document.getElementById('modal-close');

            if (openButton) {
                openButton.addEventListener('click', () => modalWindow.classList.add('is-active'));
            }
            if (closeButton) {
                closeButton.addEventListener('click', () => modalWindow.classList.remove('is-active'));
            }
            if (modalWindow) {
                modalWindow.addEventListener('click', (event) => {
                    if (event.target === modalWindow) {
                        modalWindow.classList.remove('is-active');
                    }
                });
            }
        });
    </script>
</body>

</html>